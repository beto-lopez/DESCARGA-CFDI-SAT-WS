<!DOCTYPE HTML>
<html lang>
<head>
<!-- Generated by javadoc (17) on Tue Feb 18 20:32:06 CST 2025 -->
<title>com.sicomsa.dmt.solicitude.batch (com.sicomsa.dmt 1.0-SNAPSHOT API)</title>
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta name="dc.created" content="2025-02-18">
<meta name="description" content="declaration: package: com.sicomsa.dmt.solicitude.batch">
<meta name="generator" content="javadoc/PackageWriterImpl">
<link rel="stylesheet" type="text/css" href="../../../../../stylesheet.css" title="Style">
<link rel="stylesheet" type="text/css" href="../../../../../script-dir/jquery-ui.min.css" title="Style">
<link rel="stylesheet" type="text/css" href="../../../../../jquery-ui.overrides.css" title="Style">
<script type="text/javascript" src="../../../../../script.js"></script>
<script type="text/javascript" src="../../../../../script-dir/jquery-3.6.1.min.js"></script>
<script type="text/javascript" src="../../../../../script-dir/jquery-ui.min.js"></script>
</head>
<body class="package-declaration-page">
<script type="text/javascript">var evenRowColor = "even-row-color";
var oddRowColor = "odd-row-color";
var tableTab = "table-tab";
var activeTableTab = "active-table-tab";
var pathtoroot = "../../../../../";
loadScripts(document, 'script');</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<div class="flex-box">
<header role="banner" class="flex-header">
<nav role="navigation">
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="top-nav" id="navbar-top">
<div class="skip-nav"><a href="#skip-navbar-top" title="Skip navigation links">Skip navigation links</a></div>
<ul id="navbar-top-firstrow" class="nav-list" title="Navigation">
<li><a href="../../../../../index.html">Overview</a></li>
<li class="nav-bar-cell1-rev">Package</li>
<li>Class</li>
<li><a href="package-use.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../../index-all.html">Index</a></li>
<li><a href="../../../../../help-doc.html#package">Help</a></li>
</ul>
</div>
<div class="sub-nav">
<div>
<ul class="sub-nav-list">
<li>Package:&nbsp;</li>
<li><a href="#package-description">Description</a>&nbsp;|&nbsp;</li>
<li><a href="#related-package-summary">Related Packages</a>&nbsp;|&nbsp;</li>
<li><a href="#class-summary">Classes and Interfaces</a></li>
</ul>
</div>
<div class="nav-list-search"><label for="search-input">SEARCH:</label>
<input type="text" id="search-input" value="search" disabled="disabled">
<input type="reset" id="reset-button" value="reset" disabled="disabled">
</div>
</div>
<!-- ========= END OF TOP NAVBAR ========= -->
<span class="skip-nav" id="skip-navbar-top"></span></nav>
</header>
<div class="flex-content">
<main role="main">
<div class="header">
<h1 title="Package com.sicomsa.dmt.solicitude.batch" class="title">Package com.sicomsa.dmt.solicitude.batch</h1>
</div>
<hr>
<div class="package-signature">package <span class="element-name">com.sicomsa.dmt.solicitude.batch</span></div>
<section class="package-description" id="package-description">
<div class="block">Package with classes to create and load a <a href="Batch.html" title="class in com.sicomsa.dmt.solicitude.batch"><code>Batch</code></a> that allows
 downloading multiple download requests using the same connection.
 <p>See:&nbsp;<a href="#spanish">Español</a></p>
 <p>We use a <a href="BatchFactory.html" title="class in com.sicomsa.dmt.solicitude.batch"><code>BatchFactory</code></a> that allows us to add download requests
 for different contributors, and it generates an instance of the <code>Batch</code>
 class that enables us to perform downloads of digital certificates (CFDIs)
 from the included requests; and stores the responses received from the web service
 in a file that can later be loaded and resumed from the state where each request
 was left off.</p>
 <p><code>BatchFactory</code> maintains a map of clients (contributors) to
 avoid having multiple instances of the same client and thus be able to use
 their credentials and obtained tokens for different requests.</p>
 <p>This is done in this way because the web service does not necessarily have
 the downloads available immediately, as their verification may take several
 hours or days, so there is a need to save the states in some way to be able
 to continue later.<br>
 This package was created with that objective, to save the states of the
 downloads to continue their processes later, avoiding information loss.</p>
 <p>The file corresponding to each <code>Batch</code> can be viewed since it is
 saved in xml format and contains the requests and responses from the web
 service. However, it should not be edited since it is the file with which a
 <code>Batch</code> can be reloaded.</p>
 <p>To consume the bulk download service of CFDIs, perhaps the most convenient
 thing would be to have a database with statistical information on the downloads
 of the managed contributors, but we did not want users of our package to depend
 on a specific database, besides that we still do not have it implemented since
 we first want to decode all the digital certificates we download to have more
 information and to be able to define a more complete repository that we can
 later implement in a package for those who want to use our definition and
 implementation.<br>
 For this reason, we decided to implement a package with which we could reliably
 save the states of our downloads while we implement a more adequate repository.
 But we also wanted to implement something that, although it could be temporary,
 would be viable and reliable for certain uses and/or users.</p>
 
 <br>
 <hr>
 <a id="spanish"></a>

 Paquete con clases para poder crear y cargar un <a href="Batch.html" title="class in com.sicomsa.dmt.solicitude.batch"><code>Batch</code></a> o lote que
 permite la descarga de varias solicitudes usando la misma conexión.
 <p>Usamos un  <a href="BatchFactory.html" title="class in com.sicomsa.dmt.solicitude.batch"><code>BatchFactory</code></a> que nos permite agregar solicitudes de
 descarga para diferentes contribuyentes, y nos genera una instancia de la
 clase <code>Batch</code> que nos permite realizar las descargas de certificados
 (CFDIs) de las solicitudes que incluye; y almacena las respuestas recibidas
 del servicio de descarga masiva en un archivo que posteriormente se puede
 cargar y retomar el estado donde se quedó cada solicitud.</p>
 <p><code>BatchFactory</code> mantiene un mapa de clientes (contribuyentes)
 para evitar tener múltiples instancias del mismo contribuyente y poder así
 usar sus credenciales y tokens obtenidos para diferentes solicitudes.</p>
 <p>Esto se hace de esta forma debido a que el servicio de descarga masiva no
 necesariamente tiene las descargas disponibles inmediatamente, sino que su
 verificación puede tardar varias horas o días, por lo que hay necesidad de
 guardar los estados de alguna forma para poder continuar en otro momento.<br>
 Este paquete fue creado con ese objetivo, de poder guardar los estados de las
 descargas para poder continuar sus procesos en otro momento, evitando perder
 información.</p>
 <p>El archivo correspondiente a cada <code>Batch</code> puede ser visto ya que
 se guarda en formato xml, y contiene las solicitudes y respuestas del servicio
 de descarga masiva. Aunque no debe ser editado ya que es el archivo con el que
 se podrá volver a cargar un <code>Batch</code>.</p>
 <p>Para consumir el servicio de descarga masiva de CFDIs quizás lo más conveniente
 sería tener una base de datos con información estadística de las descargas de
 los contribuyentes administrados, pero no quisimos que usuarios de nuestro
 paquete tuvieran que depender de una base de datos específica, además de que
 todavía no la tenemos implementada ya que primero queremos decodificar todos
 los certificados digitales que descarguemos para así tener más información y
 poder definir un repositorio más completo que posteriormente podamos implementar
 en un paquete para los que quieran usar nuestra definición e implementación.<br>
 Por esto decidimos implementar un paquete con el que pudiéramos guardar los
 estados de nuestras descargas de forma confiable, mientras implementamos un 
 repositorio más adecuado. Pero también quisimos implementar algo que, aunque
 pudiera ser temporal, fuera viable y confiable para ciertos usos y/o usuarios.</p></div>
<dl class="notes">
<dt>Since:</dt>
<dd>1.0</dd>
<dt>Version:</dt>
<dd>2025.02.16</dd>
<dt>Author:</dt>
<dd><a href="https://www.linkedin.com/in/alberto-carlos-lopez-montemayor-586202198">Beto Lopez</a></dd>
</dl>
</section>
<section class="summary">
<ul class="summary-list">
<li>
<div id="related-package-summary">
<div class="caption"><span>Related Packages</span></div>
<div class="summary-table two-column-summary">
<div class="table-header col-first">Package</div>
<div class="table-header col-last">Description</div>
<div class="col-first even-row-color"><a href="../package-summary.html">com.sicomsa.dmt.solicitude</a></div>
<div class="col-last even-row-color">
<div class="block">This package contains the classes and interfaces needed to encapsulate the
 status and information of a digital certificates download request using the
 SAT massive download web service.</div>
</div>
</div>
</div>
</li>
<li>
<div id="class-summary">
<div class="table-tabs" role="tablist" aria-orientation="horizontal"><button id="class-summary-tab0" role="tab" aria-selected="true" aria-controls="class-summary.tabpanel" tabindex="0" onkeydown="switchTab(event)" onclick="show('class-summary', 'class-summary', 2)" class="active-table-tab">All Classes and Interfaces</button><button id="class-summary-tab2" role="tab" aria-selected="false" aria-controls="class-summary.tabpanel" tabindex="-1" onkeydown="switchTab(event)" onclick="show('class-summary', 'class-summary-tab2', 2)" class="table-tab">Classes</button><button id="class-summary-tab5" role="tab" aria-selected="false" aria-controls="class-summary.tabpanel" tabindex="-1" onkeydown="switchTab(event)" onclick="show('class-summary', 'class-summary-tab5', 2)" class="table-tab">Exceptions</button></div>
<div id="class-summary.tabpanel" role="tabpanel">
<div class="summary-table two-column-summary" aria-labelledby="class-summary-tab0">
<div class="table-header col-first">Class</div>
<div class="table-header col-last">Description</div>
<div class="col-first even-row-color class-summary class-summary-tab2"><a href="Batch.html" title="class in com.sicomsa.dmt.solicitude.batch">Batch</a></div>
<div class="col-last even-row-color class-summary class-summary-tab2">
<div class="block"><code>Batch</code> downloads all available digital certificates (CFDIs) from
 the <code>BatchSolicitude</code>s it receives through a map; and saves the
 download status of each solicitude in a file that can be uploaded later and
 continue each download process where it left off.</div>
</div>
<div class="col-first odd-row-color class-summary class-summary-tab2"><a href="Batch.DownloadHandler.html" title="class in com.sicomsa.dmt.solicitude.batch">Batch.DownloadHandler</a></div>
<div class="col-last odd-row-color class-summary class-summary-tab2">
<div class="block">Implementation of <code>DownloadListener</code> that uses a specified
 <code>BatchWriter</code> to write all download events that are notified
 to it.</div>
</div>
<div class="col-first even-row-color class-summary class-summary-tab5"><a href="BatchException.html" title="class in com.sicomsa.dmt.solicitude.batch">BatchException</a></div>
<div class="col-last even-row-color class-summary class-summary-tab5">
<div class="block">Base class for Batch process exceptions, which is usually an Exception wrapper.</div>
</div>
<div class="col-first odd-row-color class-summary class-summary-tab2"><a href="BatchFactory.html" title="class in com.sicomsa.dmt.solicitude.batch">BatchFactory</a></div>
<div class="col-last odd-row-color class-summary class-summary-tab2">
<div class="block"><code>BatchFactory</code> provides a <code>Builder</code> to create a <code>Batch</code>
 instance with download requests along with a file; which you can use with this
 factory's <a href="BatchFactory.html#load(java.io.File)"><code>BatchFactory.load(java.io.File)</code></a> method to load a <code>Batch</code>
 instance in the state it concluded last time executed.</div>
</div>
<div class="col-first even-row-color class-summary class-summary-tab2"><a href="BatchReader.html" title="class in com.sicomsa.dmt.solicitude.batch">BatchReader</a></div>
<div class="col-last even-row-color class-summary class-summary-tab2">
<div class="block"><code>BatchReader</code> provides methods to parse <code>BatchRequest</code>s
 and <code>EventResponse</code>s contained in Nodes of a <code>SOAPMessage</code>
 generated and saved to a file by a <a href="BatchWriter.html" title="class in com.sicomsa.dmt.solicitude.batch"><code>BatchWriter</code></a>.</div>
</div>
<div class="col-first odd-row-color class-summary class-summary-tab2"><a href="BatchReader.DisposedResponse.html" title="class in com.sicomsa.dmt.solicitude.batch">BatchReader.DisposedResponse</a></div>
<div class="col-last odd-row-color class-summary class-summary-tab2">
<div class="block">Extends <code>DescargaResponse</code> to be able to be created with a
 disposed state.</div>
</div>
<div class="col-first even-row-color class-summary class-summary-tab2"><a href="BatchReader.RequestsIterator.html" title="class in com.sicomsa.dmt.solicitude.batch">BatchReader.RequestsIterator</a></div>
<div class="col-last even-row-color class-summary class-summary-tab2">
<div class="block">This class implements a <code>BatchRequest</code> iterator, parsing
 requests from a specified Node iterator.</div>
</div>
<div class="col-first odd-row-color class-summary class-summary-tab2"><a href="BatchRequest.html" title="class in com.sicomsa.dmt.solicitude.batch">BatchRequest</a></div>
<div class="col-last odd-row-color class-summary class-summary-tab2">
<div class="block"><code>BatchRequest</code> is used to identify and locate a specific request
 and its data, within a <code>Batch</code> that holds several requests.</div>
</div>
<div class="col-first even-row-color class-summary class-summary-tab2"><a href="BatchSolicitude.html" title="class in com.sicomsa.dmt.solicitude.batch">BatchSolicitude</a></div>
<div class="col-last even-row-color class-summary class-summary-tab2">
<div class="block"><code>BatchSolicitude</code> extends <a href="../DefaultSolicitude.html" title="class in com.sicomsa.dmt.solicitude"><code>DefaultSolicitude</code></a>
 to implement a <a href="../Solicitude.html" title="interface in com.sicomsa.dmt.solicitude"><code>Solicitude</code></a> that can be
 downloaded; has an additional identifier, and adds new public methods that
 update this solicitude with responses received from the web service.</div>
</div>
<div class="col-first odd-row-color class-summary class-summary-tab2"><a href="BatchWriter.html" title="class in com.sicomsa.dmt.solicitude.batch">BatchWriter</a></div>
<div class="col-last odd-row-color class-summary class-summary-tab2">
<div class="block"><code>BatchWriter</code> formats a file with a <code>SOAPMessage</code> containing
 the requests included in a <code>Batch</code> object, and adds the responses
 received from the web service to the message that is then updated in this
 writer's assigned file.</div>
</div>
<div class="col-first even-row-color class-summary class-summary-tab5"><a href="DownloadEventException.html" title="class in com.sicomsa.dmt.solicitude.batch">DownloadEventException</a></div>
<div class="col-last even-row-color class-summary class-summary-tab5">
<div class="block">RuntimeException that denotes an error produced during a download event.</div>
</div>
<div class="col-first odd-row-color class-summary class-summary-tab2"><a href="EventResponse.html" title="class in com.sicomsa.dmt.solicitude.batch">EventResponse</a></div>
<div class="col-last odd-row-color class-summary class-summary-tab2">
<div class="block"><code>EventResponse</code> is a web service response derived from a download
 event with additional properties that facilitate its manual serialization.</div>
</div>
</div>
</div>
</div>
</li>
</ul>
</section>
</main>
<footer role="contentinfo">
<hr>
<p class="legal-copy"><small>Copyright &#169; 2025. All rights reserved.</small></p>
</footer>
</div>
</div>
</body>
</html>
